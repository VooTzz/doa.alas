<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Doa Harian</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&family=Noto+Naskh+Arabic&display=swap" rel="stylesheet" />

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>

  <!-- Firebase Config -->
  <script>
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "your-project-id.firebaseapp.com",
      projectId: "your-project-id",
      storageBucket: "your-project-id.appspot.com",
      messagingSenderId: "XXXXXX",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
  </script>
</head>
<body>
  <header class="header">
    <h1 class="judul">📿 Kumpulan Doa Harian</h1>
    <nav>
      <button id="menuBtn">⋮</button>
      <ul id="menuList" class="hidden">
        <li><a href="juz30.html">📖 Juz 30</a></li>
        <li><a href="tentang.html">🙋 Tentang Saya</a></li>
      </ul>
    </nav>
  </header>

  <main id="doaContainer">
    <button id="loginBtn">🔐 Login Google</button>
    <!-- Doa akan dimuat di sini -->
  </main>

  <footer>
    <p>&copy; 2025 - Doa Harian oleh Alass</p>
  </footer>

  <!-- SCRIPT GABUNGAN -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const menuBtn = document.getElementById("menuBtn");
      const menuList = document.getElementById("menuList");

      // Toggle menu
      menuBtn.addEventListener("click", () => {
        menuList.classList.toggle("hidden");
        menuList.style.display = menuList.classList.contains("hidden") ? "none" : "block";
      });

      // Tutup menu jika klik di luar
      document.addEventListener("click", (event) => {
        if (!menuBtn.contains(event.target) && !menuList.contains(event.target)) {
          menuList.classList.add("hidden");
          menuList.style.display = "none";
        }
      });

      // Load doa
      fetch("doa.json")
        .then(response => response.json())
        .then(data => {
          const container = document.getElementById("doaContainer");
          data.forEach(doa => {
            const card = document.createElement("div");
            card.className = "doa";
            card.innerHTML = `
              <h3>${doa.judul}</h3>
              <p class="arab">${doa.arab}</p>
              <p><em>${doa.latin}</em></p>
              <p>${doa.arti}</p>
            `;
            container.appendChild(card);
          });
        });

      // Login Google
      const loginBtn = document.getElementById("loginBtn");
      if (loginBtn) {
        loginBtn.addEventListener("click", () => {
          const provider = new firebase.auth.GoogleAuthProvider();
          firebase.auth()
            .signInWithPopup(provider)
            .then((result) => {
              const user = result.user;
              console.log("Berhasil login:", user.displayName);
              alert(`Halo, ${user.displayName}`);
            })
            .catch((error) => {
              console.error("Login gagal:", error.message);
              alert("Login gagal: " + error.message);
            });
        });
      }
    });
  </script>
</body>
</html>
